{"ast":null,"code":"var _jsxFileName = \"/home/lambamansha/Desktop/faculty_portal/src/views/StudyMaterialList/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Dashboard as DashboardLayout } from \"layouts\";\nimport StudymaterialToolbar from \"./components/StudymaterialToolbar\";\nimport SendContent from \"./components/SendContent\";\nimport Loader from \"./components/loader\";\nimport MaterialTable from \"material-table\";\nimport { fetchContents } from \"api/contents\";\nimport { connect } from \"react-redux\";\nimport { Content } from \"serializers/content\"; // styles\n\nimport styles from \"./styles\";\nimport { withStyles } from \"@material-ui/styles\";\n\nclass StudymaterialList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadData = () => {\n      fetchContents(this.props.token).then(response => {\n        console.log(response.tasks);\n        let contentTableData = response.tasks.map(task => {\n          return new Content(task);\n        });\n        this.setState({\n          contentTableData: contentTableData,\n          isLoading: false\n        });\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    };\n\n    this.handleClickOpen = (mode = \"Send\", editData = null) => {\n      this.setState({\n        open: true,\n        mode,\n        editData\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false,\n        mode: \"Send\",\n        editData: null\n      });\n    };\n\n    this.columns = [{\n      title: \"Title\",\n      field: \"title\"\n    }, {\n      title: \"Description\",\n      field: \"description\"\n    }, {\n      title: \"Type\",\n      field: \"type\"\n    }, {\n      title: \"Groups\",\n      field: \"groups\"\n    }, {\n      title: \"Lectures\",\n      field: \"lectures\"\n    }, {\n      title: \"Url\",\n      field: \"url\",\n      hidden: true\n    }, {\n      title: \"id\",\n      field: \"id\",\n      hidden: true\n    }];\n    this.data = [{\n      title: \"Mehmet\",\n      description: \"Baran\",\n      type: \"Article\",\n      year: \"1st Year\",\n      url: \"https://material-ui.com/\"\n    }, {\n      title: \"Mehmet\",\n      description: \"Baran\",\n      type: \"Article\",\n      year: \"1st Year\",\n      url: \"https://material-ui.com/\"\n    }, {\n      title: \"Mehmet\",\n      description: \"Baran\",\n      type: \"Article\",\n      year: \"1st Year\",\n      url: \"https://material-ui.com/\"\n    }, {\n      title: \"Mehmet\",\n      description: \"Baran\",\n      type: \"Article\",\n      year: \"1st Year\",\n      url: \"https://material-ui.com/\"\n    }];\n    this.actions = [{\n      icon: \"visibility\",\n      tooltip: \"View Content\",\n      onClick: (event, rowData) => {\n        var win = window.open(rowData.url, \"_blank\");\n        win.focus();\n      }\n    }, {\n      icon: \"edit\",\n      tooltip: \"Edit Content\",\n      onClick: (event, rowData) => {\n        console.log(rowData);\n        return this.handleClickOpen(\"Edit\", rowData);\n      }\n    }];\n    this.state = {\n      open: false,\n      mode: \"Send\",\n      editData: null,\n      contentTableData: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(DashboardLayout, {\n      title: \"Studymaterial\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(StudymaterialToolbar, {\n      handleClickOpen: this.handleClickOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), this.state.open && React.createElement(SendContent, {\n      open: this.state.open,\n      handleClose: this.handleClose,\n      mode: this.state.mode,\n      data: this.state.editData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, !this.state.isloading ? React.createElement(MaterialTable, {\n      columns: this.columns,\n      data: this.state.contentTableData,\n      options: {\n        filtering: true,\n        actionsColumnIndex: -1\n      },\n      actions: this.actions,\n      title: \"Study Material List\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }) : React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStateToProps)(withStyles(styles)(StudymaterialList));","map":{"version":3,"sources":["/home/lambamansha/Desktop/faculty_portal/src/views/StudyMaterialList/index.jsx"],"names":["React","Component","Dashboard","DashboardLayout","StudymaterialToolbar","SendContent","Loader","MaterialTable","fetchContents","connect","Content","styles","withStyles","StudymaterialList","constructor","props","loadData","token","then","response","console","log","tasks","contentTableData","map","task","setState","isLoading","catch","error","data","handleClickOpen","mode","editData","open","handleClose","columns","title","field","hidden","description","type","year","url","actions","icon","tooltip","onClick","event","rowData","win","window","focus","state","componentDidMount","render","classes","root","content","isloading","filtering","actionsColumnIndex","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Dashboard as DashboardLayout } from \"layouts\";\n\nimport StudymaterialToolbar from \"./components/StudymaterialToolbar\";\nimport SendContent from \"./components/SendContent\";\nimport Loader from \"./components/loader\";\nimport MaterialTable from \"material-table\";\nimport { fetchContents } from \"api/contents\";\nimport { connect } from \"react-redux\";\nimport { Content } from \"serializers/content\";\n\n// styles\nimport styles from \"./styles\";\nimport { withStyles } from \"@material-ui/styles\";\n\nclass StudymaterialList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\tmode: \"Send\",\n\t\t\teditData: null,\n\t\t\tcontentTableData: [],\n\t\t\tisLoading: true\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadData();\n\t}\n\tloadData = () => {\n\t\tfetchContents(this.props.token)\n\t\t\t.then(response => {\n\t\t\t\tconsole.log(response.tasks);\n\t\t\t\tlet contentTableData = response.tasks.map(task => {\n\t\t\t\t\treturn new Content(task);\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontentTableData: contentTableData,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error.response.data);\n\t\t\t});\n\t};\n\n\thandleClickOpen = (mode = \"Send\", editData = null) => {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t\tmode,\n\t\t\teditData\n\t\t});\n\t};\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t\tmode: \"Send\",\n\t\t\teditData: null\n\t\t});\n\t};\n\n\tcolumns = [\n\t\t{ title: \"Title\", field: \"title\" },\n\t\t{ title: \"Description\", field: \"description\" },\n\t\t{ title: \"Type\", field: \"type\" },\n\t\t{\n\t\t\ttitle: \"Groups\",\n\t\t\tfield: \"groups\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Lectures\",\n\t\t\tfield: \"lectures\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Url\",\n\t\t\tfield: \"url\",\n\t\t\thidden: true\n\t\t},\n\t\t{\n\t\t\ttitle: \"id\",\n\t\t\tfield: \"id\",\n\t\t\thidden: true\n\t\t}\n\t];\n\n\tdata = [\n\t\t{\n\t\t\ttitle: \"Mehmet\",\n\t\t\tdescription: \"Baran\",\n\t\t\ttype: \"Article\",\n\t\t\tyear: \"1st Year\",\n\t\t\turl: \"https://material-ui.com/\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Mehmet\",\n\t\t\tdescription: \"Baran\",\n\t\t\ttype: \"Article\",\n\t\t\tyear: \"1st Year\",\n\t\t\turl: \"https://material-ui.com/\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Mehmet\",\n\t\t\tdescription: \"Baran\",\n\t\t\ttype: \"Article\",\n\t\t\tyear: \"1st Year\",\n\t\t\turl: \"https://material-ui.com/\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Mehmet\",\n\t\t\tdescription: \"Baran\",\n\t\t\ttype: \"Article\",\n\t\t\tyear: \"1st Year\",\n\t\t\turl: \"https://material-ui.com/\"\n\t\t}\n\t];\n\n\tactions = [\n\t\t{\n\t\t\ticon: \"visibility\",\n\t\t\ttooltip: \"View Content\",\n\t\t\tonClick: (event, rowData) => {\n\t\t\t\tvar win = window.open(rowData.url, \"_blank\");\n\t\t\t\twin.focus();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ticon: \"edit\",\n\t\t\ttooltip: \"Edit Content\",\n\t\t\tonClick: (event, rowData) => {\n\t\t\t\tconsole.log(rowData);\n\t\t\t\treturn this.handleClickOpen(\"Edit\", rowData);\n\t\t\t}\n\t\t}\n\t];\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<DashboardLayout title=\"Studymaterial\">\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<StudymaterialToolbar handleClickOpen={this.handleClickOpen} />\n\t\t\t\t\t{this.state.open && (\n\t\t\t\t\t\t<SendContent\n\t\t\t\t\t\t\topen={this.state.open}\n\t\t\t\t\t\t\thandleClose={this.handleClose}\n\t\t\t\t\t\t\tmode={this.state.mode}\n\t\t\t\t\t\t\tdata={this.state.editData}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t{!this.state.isloading ? (\n\t\t\t\t\t\t\t<MaterialTable\n\t\t\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\t\t\tdata={this.state.contentTableData}\n\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\tfiltering: true,\n\t\t\t\t\t\t\t\t\tactionsColumnIndex: -1\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tactions={this.actions}\n\t\t\t\t\t\t\t\ttitle=\"Study Material List\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</DashboardLayout>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\ttoken: state.auth.token\n\t};\n};\n\nexport default connect(mapStateToProps)(withStyles(styles)(StudymaterialList));\n"]},"metadata":{},"sourceType":"module"}