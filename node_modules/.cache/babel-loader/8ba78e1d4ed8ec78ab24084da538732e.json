{"ast":null,"code":"import _objectSpread from \"/home/lambamansha/Desktop/faculty_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/lambamansha/Desktop/faculty_portal/src/views/QuizList/components/CreateQuiz/index.jsx\";\nimport React, { Component } from \"react\";\nimport ContentForm from \"./Form\";\nimport validate from \"validate.js\";\nimport { Redirect } from \"react-router-dom\";\n\nclass CreateQuiz extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeHandler = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState(prevState => {\n        return {\n          data: _objectSpread({}, prevState.data, {\n            [name]: value\n          }),\n          errors: _objectSpread({}, prevState.errors, {\n            [name]: null\n          })\n        };\n      });\n    };\n\n    this.onAddHandler = e => {\n      e.preventDefault();\n      console.log(\"hey am add handler\");\n      console.log(this.state.data.skills); // check for repitition\n\n      var found = false;\n\n      for (var i = 0; i < this.state.data.skills.length; i++) {\n        if (this.state.data.skills[i].text === this.state.data.text) {\n          found = true;\n          break;\n        }\n      }\n\n      if (found === false) {\n        const newItem = {\n          text: this.state.data.text,\n          id: Date.now()\n        };\n        this.setState(prevState => ({\n          data: _objectSpread({}, prevState.data, {\n            skills: prevState.data.skills.concat(newItem),\n            text: \"\",\n            warning: null\n          })\n        }));\n      } else {\n        this.setState(prevState => ({\n          data: _objectSpread({}, prevState.data, {\n            warning: \"Already added\"\n          })\n        }));\n      }\n    };\n\n    this.OnDeleteHandler = itemid => {\n      console.log(itemid);\n      let skills = [...this.state.data.skills];\n      let idx = skills.indexOf(itemid);\n      skills.splice(idx, 1);\n      this.setState(prevState => ({\n        data: _objectSpread({}, prevState.data, {\n          skills: [...skills]\n        })\n      }));\n    };\n\n    this.onSubmitHandler = () => {\n      console.log(\"submission handler\"); //validation\n\n      let errors = validate(this.state.data, {\n        title: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        skills: {\n          presence: {\n            allowEmpty: false,\n            message: \"are required\"\n          }\n        }\n      }); // check for errors\n\n      if (errors) {\n        this.setState({\n          errors\n        });\n      } else {\n        this.setState(prevState => ({\n          data: _objectSpread({}, prevState.data, {\n            redirect: true\n          })\n        }));\n      }\n\n      console.log(errors);\n    };\n\n    this.state = {\n      data: {\n        title: \"\",\n        skills: [],\n        text: \"\",\n        warning: null,\n        redirect: false\n      },\n      errors: {}\n    };\n  }\n\n  render() {\n    let redirect = null;\n\n    if (this.state.data.redirect) {\n      redirect = React.createElement(Redirect, {\n        to: \"/quiz/\" + 1 + \"/edit-quiz\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, redirect, React.createElement(ContentForm, {\n      open: this.props.open,\n      onChangeHandler: this.onChangeHandler,\n      onSubmit: this.onSubmitHandler,\n      errors: this.state.errors,\n      data: this.state.data,\n      onAdd: this.onAddHandler,\n      onDelete: this.OnDeleteHandler,\n      handleClose: this.props.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CreateQuiz;","map":{"version":3,"sources":["/home/lambamansha/Desktop/faculty_portal/src/views/QuizList/components/CreateQuiz/index.jsx"],"names":["React","Component","ContentForm","validate","Redirect","CreateQuiz","constructor","props","onChangeHandler","e","target","name","value","setState","prevState","data","errors","onAddHandler","preventDefault","console","log","state","skills","found","i","length","text","newItem","id","Date","now","concat","warning","OnDeleteHandler","itemid","idx","indexOf","splice","onSubmitHandler","title","presence","allowEmpty","message","redirect","render","open","handleClose"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ContentForm from \"./Form\";\nimport validate from \"validate.js\";\nimport { Redirect } from \"react-router-dom\";\n\nclass CreateQuiz extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata: {\n\t\t\t\ttitle: \"\",\n\t\t\t\tskills: [],\n\t\t\t\ttext: \"\",\n\t\t\t\twarning: null,\n\t\t\t\tredirect: false\n\t\t\t},\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tonChangeHandler = e => {\n\t\tconst { name, value } = e.target;\n\n\t\tthis.setState(prevState => {\n\t\t\treturn {\n\t\t\t\tdata: {\n\t\t\t\t\t...prevState.data,\n\t\t\t\t\t[name]: value\n\t\t\t\t},\n\t\t\t\terrors: {\n\t\t\t\t\t...prevState.errors,\n\t\t\t\t\t[name]: null\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\tonAddHandler = e => {\n\t\te.preventDefault();\n\t\tconsole.log(\"hey am add handler\");\n\t\tconsole.log(this.state.data.skills);\n\t\t// check for repitition\n\t\tvar found = false;\n\t\tfor (var i = 0; i < this.state.data.skills.length; i++) {\n\t\t\tif (this.state.data.skills[i].text === this.state.data.text) {\n\t\t\t\tfound = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (found === false) {\n\t\t\tconst newItem = {\n\t\t\t\ttext: this.state.data.text,\n\t\t\t\tid: Date.now()\n\t\t\t};\n\t\t\tthis.setState(prevState => ({\n\t\t\t\tdata: {\n\t\t\t\t\t...prevState.data,\n\t\t\t\t\tskills: prevState.data.skills.concat(newItem),\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\twarning: null\n\t\t\t\t}\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.setState(prevState => ({\n\t\t\t\tdata: {\n\t\t\t\t\t...prevState.data,\n\t\t\t\t\twarning: \"Already added\"\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t};\n\n\tOnDeleteHandler = itemid => {\n\t\tconsole.log(itemid);\n\t\tlet skills = [...this.state.data.skills];\n\t\tlet idx = skills.indexOf(itemid);\n\t\tskills.splice(idx, 1);\n\t\tthis.setState(prevState => ({\n\t\t\tdata: {\n\t\t\t\t...prevState.data,\n\t\t\t\tskills: [...skills]\n\t\t\t}\n\t\t}));\n\t};\n\n\tonSubmitHandler = () => {\n\t\tconsole.log(\"submission handler\");\n\t\t//validation\n\t\tlet errors = validate(this.state.data, {\n\t\t\ttitle: { presence: { allowEmpty: false, message: \"is required\" } },\n\t\t\tskills: { presence: { allowEmpty: false, message: \"are required\" } }\n\t\t});\n\n\t\t// check for errors\n\t\tif (errors) {\n\t\t\tthis.setState({ errors });\n\t\t} else {\n\t\t\tthis.setState(prevState => ({\n\t\t\t\tdata: {\n\t\t\t\t\t...prevState.data,\n\t\t\t\t\tredirect: true\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tconsole.log(errors);\n\t};\n\n\trender() {\n\t\tlet redirect = null;\n\t\tif (this.state.data.redirect) {\n\t\t\tredirect = <Redirect to={\"/quiz/\" + 1 + \"/edit-quiz\"} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{redirect}\n\t\t\t\t<ContentForm\n\t\t\t\t\topen={this.props.open}\n\t\t\t\t\tonChangeHandler={this.onChangeHandler}\n\t\t\t\t\tonSubmit={this.onSubmitHandler}\n\t\t\t\t\terrors={this.state.errors}\n\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\tonAdd={this.onAddHandler}\n\t\t\t\t\tonDelete={this.OnDeleteHandler}\n\t\t\t\t\thandleClose={this.props.handleClose}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CreateQuiz;\n"]},"metadata":{},"sourceType":"module"}