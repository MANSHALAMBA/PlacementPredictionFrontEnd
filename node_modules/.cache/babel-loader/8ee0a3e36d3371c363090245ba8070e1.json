{"ast":null,"code":"var _jsxFileName = \"/media/lambamansha/Seagate Expansion Drive/minorproject/src/views/Project/components/Chat/InputBar/index.jsx\";\nimport React, { Component } from \"react\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport validate from \"validate.js\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { withStyles } from \"@material-ui/styles\";\nimport styles from \"./styles\";\nimport { connect } from \"react-redux\";\nimport { sendMessage } from \"api/projects\";\nimport swal from \"sweetalert\";\n\nclass InputBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeHandler = e => {\n      this.setState({\n        text: e.target.value\n      });\n    };\n\n    this.onSendHandler = () => {\n      let error = validate(this.state, {\n        text: {\n          presence: {\n            allowEmpty: false,\n            text: \"is required\"\n          }\n        }\n      });\n\n      if (!error) {\n        this.setState({\n          text: \"\"\n        });\n        this.sendMessage();\n      }\n    };\n\n    this.sendMessage = () => {\n      let data = {\n        text: this.state.text\n      };\n      sendMessage(this.props.token, data, this.props.projectid).then(data => {\n        this.props.addMessage(data.message);\n      }).catch(error => {\n        swal({\n          title: \"Error\",\n          text: error.response.data.message,\n          button: \"Ok\"\n        });\n      });\n    };\n\n    this.state = {\n      text: \"\",\n      errors: {}\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(Paper, {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(InputBase, {\n      multiline: true,\n      rows: 3,\n      value: this.state.text,\n      onChange: this.onChangeHandler,\n      className: classes.input,\n      placeholder: \"Type your message ...\",\n      inputProps: {\n        \"aria-label\": \"Type your message\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      color: \"primary\",\n      className: classes.iconButton,\n      \"aria-label\": \"Directions\",\n      onClick: this.onSendHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(SendIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  return {\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStatetoProps)(withStyles(styles)(InputBar));","map":{"version":3,"sources":["/media/lambamansha/Seagate Expansion Drive/minorproject/src/views/Project/components/Chat/InputBar/index.jsx"],"names":["React","Component","InputBase","validate","Paper","SendIcon","IconButton","withStyles","styles","connect","sendMessage","swal","InputBar","constructor","props","onChangeHandler","e","setState","text","target","value","onSendHandler","error","state","presence","allowEmpty","data","token","projectid","then","addMessage","message","catch","title","response","button","errors","render","classes","root","input","iconButton","mapStatetoProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport validate from \"validate.js\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { withStyles } from \"@material-ui/styles\";\nimport styles from \"./styles\";\nimport { connect } from \"react-redux\";\nimport { sendMessage } from \"api/projects\";\nimport swal from \"sweetalert\";\n\nclass InputBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: \"\",\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tonChangeHandler = e => {\n\t\tthis.setState({\n\t\t\ttext: e.target.value\n\t\t});\n\t};\n\n\tonSendHandler = () => {\n\t\tlet error = validate(this.state, {\n\t\t\ttext: { presence: { allowEmpty: false, text: \"is required\" } }\n\t\t});\n\n\t\tif (!error) {\n\t\t\tthis.setState({\n\t\t\t\ttext: \"\"\n\t\t\t});\n\t\t\tthis.sendMessage();\n\t\t}\n\t};\n\tsendMessage = () => {\n\t\tlet data = {\n\t\t\ttext: this.state.text\n\t\t};\n\t\tsendMessage(this.props.token, data, this.props.projectid)\n\t\t\t.then(data => {\n\t\t\t\tthis.props.addMessage(data.message);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tswal({\n\t\t\t\t\ttitle: \"Error\",\n\t\t\t\t\ttext: error.response.data.message,\n\n\t\t\t\t\tbutton: \"Ok\"\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\treturn (\n\t\t\t<Paper className={classes.root}>\n\t\t\t\t<InputBase\n\t\t\t\t\tmultiline\n\t\t\t\t\trows={3}\n\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\tonChange={this.onChangeHandler}\n\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\tplaceholder=\"Type your message ...\"\n\t\t\t\t\tinputProps={{ \"aria-label\": \"Type your message\" }}\n\t\t\t\t/>\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tclassName={classes.iconButton}\n\t\t\t\t\taria-label=\"Directions\"\n\t\t\t\t\tonClick={this.onSendHandler}>\n\t\t\t\t\t<SendIcon />\n\t\t\t\t</IconButton>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStatetoProps = state => {\n\treturn {\n\t\ttoken: state.auth.token\n\t};\n};\n\nexport default connect(mapStatetoProps)(withStyles(styles)(InputBar));\n"]},"metadata":{},"sourceType":"module"}