{"ast":null,"code":"import _objectSpread from \"/home/lambamansha/Desktop/faculty_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/lambamansha/Desktop/faculty_portal/src/views/StudyMaterialList/components/SendContent/SendContent.js\";\nimport React, { Component } from \"react\";\nimport Form from \"./Form/SendContent\";\nimport validate from \"validate.js\";\nimport moment from \"moment\";\n\nclass SendContent extends Component {\n  constructor(props) {\n    super(props);\n    this.years = [\"All Years\", \"1st Year\", \"2nd Year\", \"3rd Year\", \"4th Year\"];\n    this.types = [\"Article\", \"Video\", \"Research Paper\"];\n\n    this.onChangeHandler = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState(prevState => {\n        return {\n          data: _objectSpread({}, prevState.data, {\n            [name]: value\n          }),\n          errors: _objectSpread({}, prevState.errors, {\n            [name]: []\n          })\n        };\n      });\n    };\n\n    this.onSubmitHandler = () => {\n      console.log(\"submission handler\"); //validation\n\n      let errors = validate(this.state.data, {\n        title: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        description: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        url: {\n          url: true\n        },\n        type: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        year: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        file: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        }\n      }); // check for errors\n\n      if (errors) {\n        this.setState({\n          errors\n        });\n      }\n\n      console.log(errors);\n    };\n\n    this.state = {\n      data: {\n        title: \"\",\n        description: \"\",\n        url: \"\",\n        type: \"\",\n        year: \"\",\n        file: \"\"\n      },\n      errors: {}\n    };\n  }\n\n  render() {\n    return React.createElement(Form, {\n      onChangeHandler: this.onChangeHandler,\n      onSubmit: this.onSubmitHandler,\n      errors: this.state.errors,\n      year: this.state.data.year,\n      type: this.state.data.type,\n      years: this.years,\n      types: this.types,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default SendContent;","map":{"version":3,"sources":["/home/lambamansha/Desktop/faculty_portal/src/views/StudyMaterialList/components/SendContent/SendContent.js"],"names":["React","Component","Form","validate","moment","SendContent","constructor","props","years","types","onChangeHandler","e","target","name","value","setState","prevState","data","errors","onSubmitHandler","console","log","state","title","presence","allowEmpty","message","description","url","type","year","file","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"./Form/SendContent\";\nimport validate from \"validate.js\";\nimport moment from \"moment\";\n\nclass SendContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        title: \"\",\n        description: \"\",\n        url: \"\",\n        type: \"\",\n        year: \"\",\n        file: \"\"\n      },\n      errors: {}\n    };\n  }\n  years = [\"All Years\", \"1st Year\", \"2nd Year\", \"3rd Year\", \"4th Year\"];\n  types = [\"Article\", \"Video\", \"Research Paper\"];\n\n  onChangeHandler = e => {\n    const { name, value } = e.target;\n\n    this.setState(prevState => {\n      return {\n        data: {\n          ...prevState.data,\n          [name]: value\n        },\n        errors: {\n          ...prevState.errors,\n          [name]: []\n        }\n      };\n    });\n  };\n\n  onSubmitHandler = () => {\n    console.log(\"submission handler\");\n    //validation\n    let errors = validate(this.state.data, {\n      title: { presence: { allowEmpty: false, message: \"is required\" } },\n      description: { presence: { allowEmpty: false, message: \"is required\" } },\n      url: { url: true },\n      type: { presence: { allowEmpty: false, message: \"is required\" } },\n      year: { presence: { allowEmpty: false, message: \"is required\" } },\n      file: { presence: { allowEmpty: false, message: \"is required\" } }\n    });\n\n    // check for errors\n    if (errors) {\n      this.setState({ errors });\n    }\n    console.log(errors);\n  };\n\n  render() {\n    return (\n      <Form\n        onChangeHandler={this.onChangeHandler}\n        onSubmit={this.onSubmitHandler}\n        errors={this.state.errors}\n        year={this.state.data.year}\n        type={this.state.data.type}\n        years={this.years}\n        types={this.types}\n      />\n    );\n  }\n}\n\nexport default SendContent;\n"]},"metadata":{},"sourceType":"module"}