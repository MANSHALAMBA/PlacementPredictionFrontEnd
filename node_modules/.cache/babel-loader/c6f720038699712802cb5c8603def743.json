{"ast":null,"code":"import _objectSpread from \"/home/lambamansha/Desktop/faculty_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/lambamansha/Desktop/faculty_portal/src/views/StudyMaterialList/components/SendContent/index.jsx\";\nimport React, { Component } from \"react\";\nimport ContentForm from \"./Form\";\nimport validate from \"validate.js\";\n\nclass SendContent extends Component {\n  constructor(_props) {\n    super(_props);\n    this.receipents = [\"All Years\", \"1st Year\", \"2nd Year\", \"3rd Year\", \"4th Year\"];\n    this.types = [\"Article\", \"Video\", \"Research Paper\", \"Assignment\"];\n\n    this.getInitialState = props => {\n      if (props.mode === \"Edit\") {\n        return {\n          data: _objectSpread({\n            title: \"\",\n            description: \"\",\n            url: \"\",\n            type: \"\",\n            receipents: [],\n            file: \"\"\n          }, props.data),\n          errors: {}\n        };\n      } else {\n        // default mode is assumed to be Send\n        return {\n          data: {\n            title: \"\",\n            description: \"\",\n            url: \"\",\n            type: \"\",\n            receipents: [],\n            file: \"\"\n          },\n          errors: {}\n        };\n      }\n    };\n\n    this.onChangeHandler = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState(prevState => {\n        return {\n          data: _objectSpread({}, prevState.data, {\n            [name]: value\n          }),\n          errors: _objectSpread({}, prevState.errors, {\n            [name]: null\n          })\n        };\n      });\n    };\n\n    this.onSelectChangeHandler = e => {\n      let receipents = this.state.data.receipents;\n      receipents.push(e.target.value);\n      this.setState(prevState => {\n        return {\n          data: _objectSpread({}, prevState.data, {\n            receipents: receipents\n          }),\n          errors: _objectSpread({}, prevState.errors, {\n            receipents: null\n          })\n        };\n      });\n    };\n\n    this.onSubmitHandler = () => {\n      console.log(\"submission handler\"); //validation\n\n      let errors = validate(this.state.data, {\n        title: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        description: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        url: {\n          url: true\n        },\n        type: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        },\n        receipents: {\n          presence: {\n            allowEmpty: false,\n            message: \"are required\"\n          }\n        },\n        file: {\n          presence: {\n            allowEmpty: false,\n            message: \"is required\"\n          }\n        }\n      }); // check for errors\n\n      if (errors) {\n        this.setState({\n          errors\n        });\n      }\n\n      console.log(errors);\n    };\n\n    this.state = this.getInitialState(_props);\n  }\n\n  render() {\n    return React.createElement(ContentForm, {\n      open: this.props.open,\n      onChangeHandler: this.onChangeHandler,\n      onSubmit: this.onSubmitHandler,\n      errors: this.state.errors,\n      data: this.state.data,\n      receipents: this.receipents,\n      types: this.types,\n      handleClose: this.props.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    });\n  }\n\n}\n\nSendContent.defaultProps = {\n  mode: \"Send\"\n};\nexport default SendContent;","map":{"version":3,"sources":["/home/lambamansha/Desktop/faculty_portal/src/views/StudyMaterialList/components/SendContent/index.jsx"],"names":["React","Component","ContentForm","validate","SendContent","constructor","props","receipents","types","getInitialState","mode","data","title","description","url","type","file","errors","onChangeHandler","e","target","name","value","setState","prevState","onSelectChangeHandler","state","push","onSubmitHandler","console","log","presence","allowEmpty","message","render","open","handleClose","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,QAAxB;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AACnCI,EAAAA,WAAW,CAACC,MAAD,EAAQ;AAClB,UAAMA,MAAN;AADkB,SAMnBC,UANmB,GAMN,CAAC,WAAD,EAAc,UAAd,EAA0B,UAA1B,EAAsC,UAAtC,EAAkD,UAAlD,CANM;AAAA,SAOnBC,KAPmB,GAOX,CAAC,SAAD,EAAY,OAAZ,EAAqB,gBAArB,EAAuC,YAAvC,CAPW;;AAAA,SAanBC,eAbmB,GAaDH,KAAK,IAAI;AAC1B,UAAIA,KAAK,CAACI,IAAN,KAAe,MAAnB,EAA2B;AAC1B,eAAO;AACNC,UAAAA,IAAI;AACHC,YAAAA,KAAK,EAAE,EADJ;AAEHC,YAAAA,WAAW,EAAE,EAFV;AAGHC,YAAAA,GAAG,EAAE,EAHF;AAIHC,YAAAA,IAAI,EAAE,EAJH;AAKHR,YAAAA,UAAU,EAAE,EALT;AAMHS,YAAAA,IAAI,EAAE;AANH,aAOAV,KAAK,CAACK,IAPN,CADE;AAUNM,UAAAA,MAAM,EAAE;AAVF,SAAP;AAYA,OAbD,MAaO;AACN;AACA,eAAO;AACNN,UAAAA,IAAI,EAAE;AACLC,YAAAA,KAAK,EAAE,EADF;AAELC,YAAAA,WAAW,EAAE,EAFR;AAGLC,YAAAA,GAAG,EAAE,EAHA;AAILC,YAAAA,IAAI,EAAE,EAJD;AAKLR,YAAAA,UAAU,EAAE,EALP;AAMLS,YAAAA,IAAI,EAAE;AAND,WADA;AASNC,UAAAA,MAAM,EAAE;AATF,SAAP;AAWA;AACD,KAzCkB;;AAAA,SA2CnBC,eA3CmB,GA2CDC,CAAC,IAAI;AAAA,wBACEA,CAAC,CAACC,MADJ;AAAA,YACdC,IADc,aACdA,IADc;AAAA,YACRC,KADQ,aACRA,KADQ;AAGtB,WAAKC,QAAL,CAAcC,SAAS,IAAI;AAC1B,eAAO;AACNb,UAAAA,IAAI,oBACAa,SAAS,CAACb,IADV;AAEH,aAACU,IAAD,GAAQC;AAFL,YADE;AAKNL,UAAAA,MAAM,oBACFO,SAAS,CAACP,MADR;AAEL,aAACI,IAAD,GAAQ;AAFH;AALA,SAAP;AAUA,OAXD;AAYA,KA1DkB;;AAAA,SA4DnBI,qBA5DmB,GA4DKN,CAAC,IAAI;AAC5B,UAAIZ,UAAU,GAAG,KAAKmB,KAAL,CAAWf,IAAX,CAAgBJ,UAAjC;AACAA,MAAAA,UAAU,CAACoB,IAAX,CAAgBR,CAAC,CAACC,MAAF,CAASE,KAAzB;AACA,WAAKC,QAAL,CAAcC,SAAS,IAAI;AAC1B,eAAO;AACNb,UAAAA,IAAI,oBACAa,SAAS,CAACb,IADV;AAEHJ,YAAAA,UAAU,EAAEA;AAFT,YADE;AAKNU,UAAAA,MAAM,oBACFO,SAAS,CAACP,MADR;AAELV,YAAAA,UAAU,EAAE;AAFP;AALA,SAAP;AAUA,OAXD;AAYA,KA3EkB;;AAAA,SA6EnBqB,eA7EmB,GA6ED,MAAM;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EADuB,CAEvB;;AACA,UAAIb,MAAM,GAAGd,QAAQ,CAAC,KAAKuB,KAAL,CAAWf,IAAZ,EAAkB;AACtCC,QAAAA,KAAK,EAAE;AAAEmB,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,UAAU,EAAE,KAAd;AAAqBC,YAAAA,OAAO,EAAE;AAA9B;AAAZ,SAD+B;AAEtCpB,QAAAA,WAAW,EAAE;AAAEkB,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,UAAU,EAAE,KAAd;AAAqBC,YAAAA,OAAO,EAAE;AAA9B;AAAZ,SAFyB;AAGtCnB,QAAAA,GAAG,EAAE;AAAEA,UAAAA,GAAG,EAAE;AAAP,SAHiC;AAItCC,QAAAA,IAAI,EAAE;AAAEgB,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,UAAU,EAAE,KAAd;AAAqBC,YAAAA,OAAO,EAAE;AAA9B;AAAZ,SAJgC;AAKtC1B,QAAAA,UAAU,EAAE;AAAEwB,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,UAAU,EAAE,KAAd;AAAqBC,YAAAA,OAAO,EAAE;AAA9B;AAAZ,SAL0B;AAMtCjB,QAAAA,IAAI,EAAE;AAAEe,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,UAAU,EAAE,KAAd;AAAqBC,YAAAA,OAAO,EAAE;AAA9B;AAAZ;AANgC,OAAlB,CAArB,CAHuB,CAYvB;;AACA,UAAIhB,MAAJ,EAAY;AACX,aAAKM,QAAL,CAAc;AAAEN,UAAAA;AAAF,SAAd;AACA;;AACDY,MAAAA,OAAO,CAACC,GAAR,CAAYb,MAAZ;AACA,KA9FkB;;AAGlB,SAAKS,KAAL,GAAa,KAAKjB,eAAL,CAAqBH,MAArB,CAAb;AACA;;AA4FD4B,EAAAA,MAAM,GAAG;AACR,WACC,oBAAC,WAAD;AACC,MAAA,IAAI,EAAE,KAAK5B,KAAL,CAAW6B,IADlB;AAEC,MAAA,eAAe,EAAE,KAAKjB,eAFvB;AAGC,MAAA,QAAQ,EAAE,KAAKU,eAHhB;AAIC,MAAA,MAAM,EAAE,KAAKF,KAAL,CAAWT,MAJpB;AAKC,MAAA,IAAI,EAAE,KAAKS,KAAL,CAAWf,IALlB;AAMC,MAAA,UAAU,EAAE,KAAKJ,UANlB;AAOC,MAAA,KAAK,EAAE,KAAKC,KAPb;AAQC,MAAA,WAAW,EAAE,KAAKF,KAAL,CAAW8B,WARzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD;AAYA;;AA9GkC;;AAA9BhC,W,CAUEiC,Y,GAAe;AACrB3B,EAAAA,IAAI,EAAE;AADe,C;AAuGvB,eAAeN,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport ContentForm from \"./Form\";\nimport validate from \"validate.js\";\n\nclass SendContent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = this.getInitialState(props);\n\t}\n\n\treceipents = [\"All Years\", \"1st Year\", \"2nd Year\", \"3rd Year\", \"4th Year\"];\n\ttypes = [\"Article\", \"Video\", \"Research Paper\", \"Assignment\"];\n\n\tstatic defaultProps = {\n\t\tmode: \"Send\"\n\t};\n\n\tgetInitialState = props => {\n\t\tif (props.mode === \"Edit\") {\n\t\t\treturn {\n\t\t\t\tdata: {\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\turl: \"\",\n\t\t\t\t\ttype: \"\",\n\t\t\t\t\treceipents: [],\n\t\t\t\t\tfile: \"\",\n\t\t\t\t\t...props.data\n\t\t\t\t},\n\t\t\t\terrors: {}\n\t\t\t};\n\t\t} else {\n\t\t\t// default mode is assumed to be Send\n\t\t\treturn {\n\t\t\t\tdata: {\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\turl: \"\",\n\t\t\t\t\ttype: \"\",\n\t\t\t\t\treceipents: [],\n\t\t\t\t\tfile: \"\"\n\t\t\t\t},\n\t\t\t\terrors: {}\n\t\t\t};\n\t\t}\n\t};\n\n\tonChangeHandler = e => {\n\t\tconst { name, value } = e.target;\n\n\t\tthis.setState(prevState => {\n\t\t\treturn {\n\t\t\t\tdata: {\n\t\t\t\t\t...prevState.data,\n\t\t\t\t\t[name]: value\n\t\t\t\t},\n\t\t\t\terrors: {\n\t\t\t\t\t...prevState.errors,\n\t\t\t\t\t[name]: null\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\tonSelectChangeHandler = e => {\n\t\tlet receipents = this.state.data.receipents;\n\t\treceipents.push(e.target.value);\n\t\tthis.setState(prevState => {\n\t\t\treturn {\n\t\t\t\tdata: {\n\t\t\t\t\t...prevState.data,\n\t\t\t\t\treceipents: receipents\n\t\t\t\t},\n\t\t\t\terrors: {\n\t\t\t\t\t...prevState.errors,\n\t\t\t\t\treceipents: null\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\tonSubmitHandler = () => {\n\t\tconsole.log(\"submission handler\");\n\t\t//validation\n\t\tlet errors = validate(this.state.data, {\n\t\t\ttitle: { presence: { allowEmpty: false, message: \"is required\" } },\n\t\t\tdescription: { presence: { allowEmpty: false, message: \"is required\" } },\n\t\t\turl: { url: true },\n\t\t\ttype: { presence: { allowEmpty: false, message: \"is required\" } },\n\t\t\treceipents: { presence: { allowEmpty: false, message: \"are required\" } },\n\t\t\tfile: { presence: { allowEmpty: false, message: \"is required\" } }\n\t\t});\n\n\t\t// check for errors\n\t\tif (errors) {\n\t\t\tthis.setState({ errors });\n\t\t}\n\t\tconsole.log(errors);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ContentForm\n\t\t\t\topen={this.props.open}\n\t\t\t\tonChangeHandler={this.onChangeHandler}\n\t\t\t\tonSubmit={this.onSubmitHandler}\n\t\t\t\terrors={this.state.errors}\n\t\t\t\tdata={this.state.data}\n\t\t\t\treceipents={this.receipents}\n\t\t\t\ttypes={this.types}\n\t\t\t\thandleClose={this.props.handleClose}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default SendContent;\n"]},"metadata":{},"sourceType":"module"}