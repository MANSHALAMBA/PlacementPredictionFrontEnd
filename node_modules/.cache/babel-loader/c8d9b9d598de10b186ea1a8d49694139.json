{"ast":null,"code":"var _jsxFileName = \"/home/lambamansha/Desktop/faculty_portal/src/views/QuizList/index.jsx\";\nimport React, { Component } from \"react\";\nimport { Dashboard as DashboardLayout } from \"layouts\";\nimport QuizToolbar from \"./components/QuizToolbar\";\nimport CreateQuiz from \"./components/CreateQuiz\";\nimport Loader from \"./components/loader\";\nimport { fetchQuizlist } from \"api/quizzes\";\nimport MaterialTable from \"material-table\";\nimport { connect } from \"react-redux\";\nimport { Quiz } from \"serializers/quiz\";\nimport swal from \"sweetalert\";\nimport { Typography } from \"@material-ui/core\"; // styles\n\nimport styles from \"./styles\";\nimport { withStyles } from \"@material-ui/styles\";\n\nclass QuizList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadData = () => {\n      fetchQuizlist(this.props.token).then(data => {\n        let quizlistTabledata = data.quizes.map(quiz => {\n          return new Quiz(quiz);\n        }); // push data to redux\n\n        this.props.pushQuizListdata(quizlistTabledata);\n        this.setState({\n          // quizlistTabledata: quizlistTabledata,\n          isLoading: false\n        });\n      }).catch(error => {\n        swal({\n          title: \"Internal Server Error\",\n          text: \"Please Try Refreshing Page\",\n          button: \"Ok\"\n        });\n      });\n    };\n\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n\n    this.handleEditQuiz = id => {\n      this.props.history.push(\"/quiz/\" + id + \"/edit-quiz\");\n    };\n\n    this.handleScheduleQuiz = id => {\n      // push row data to redux store\n      this.props.history.push(\"/quiz/\" + id + \"/schedule-quiz\");\n    };\n\n    this.handleEndDateChange = (quizid, startdate) => {\n      this.setState({\n        editEnddate: {\n          openEditForm: true,\n          quizid: quizid,\n          startdate: startdate\n        }\n      });\n    };\n\n    this.columns = [{\n      title: \"Title\",\n      field: \"title\",\n      cellStyle: {\n        \"font-size\": \"15px\"\n      }\n    }, {\n      title: \"Skills\",\n      field: \"skills\",\n      cellStyle: {\n        \"font-size\": \"15px\"\n      },\n      render: rowData => rowData.skills.map(skill => {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, skill.tag);\n      })\n    }, {\n      title: \"Number Of Questions\",\n      field: \"numberOfQuestions\",\n      cellStyle: {\n        \"font-size\": \"15px\"\n      },\n      type: \"numeric\"\n    }, {\n      title: \"Scheduling Status\",\n      field: \"schedulingStatus\",\n      cellStyle: {\n        \"font-size\": \"15px\"\n      },\n      lookup: {\n        0: \"Not Scheduled\",\n        1: \"Scheduled\",\n        2: \"Disabled\",\n        3: \"Expired\" // render: rowData => {\n        // \tif (rowData.schedulingStatus == 1) return <p>{rowData.schedule}</p>;\n        // }\n\n      }\n    }, {\n      title: \"Quiz Date\",\n      field: \"schedule\",\n      cellStyle: {\n        \"font-size\": \"15px\"\n      },\n      render: rowData => {\n        if (rowData.schedulingStatus === 1) return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, rowData.schedule, \" to \", rowData.expiry);\n      }\n    }, {\n      title: \"Id\",\n      field: \"id\",\n      hidden: true // {\n      // \ttitle: \"expiry\",\n      // \tfield: \"expiry\",\n      // \thidden: true\n      // }\n\n    }];\n    this.data = [{\n      title: \"Python\",\n      skills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n      numberOfQuestions: 1,\n      schedulingStatus: true,\n      id: \"1\"\n    }, {\n      title: \"Python\",\n      skills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n      numberOfQuestions: 5,\n      schedulingStatus: false,\n      id: \"2\"\n    }, {\n      title: \"Python\",\n      skills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n      numberOfQuestions: 1,\n      schedulingStatus: true,\n      id: \"3\"\n    }, {\n      title: \"Python\",\n      skills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n      numberOfQuestions: 1,\n      schedulingStatus: false,\n      id: \"4\"\n    }];\n    this.actions = [{\n      icon: \"edit\",\n      tooltip: \"Edit Content\",\n      onClick: (event, rowData) => {\n        return this.handleEditQuiz(rowData.id);\n      }\n    }, rowData => ({\n      icon: \"schedule\",\n      tooltip: \"Schedule Quiz\",\n      onClick: (event, rowData) => {\n        return this.handleScheduleQuiz(rowData.id);\n      },\n      disabled: rowData.numberOfQuestions < 5\n    }), rowData => ({\n      icon: \"schedule\",\n      tooltip: \"Change The End date\",\n      onClick: (event, rowData) => {\n        return this.handleEndDateChange(rowData.id, rowData.schedule);\n      },\n      hidden: rowData.schedulingStatus !== 1\n    })];\n    this.state = {\n      open: false,\n      quizlistTabledata: [],\n      isLoading: true,\n      editEnddate: {\n        openEditForm: false,\n        quizid: null,\n        startdate: null\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(DashboardLayout, {\n      title: \"Quizzes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(QuizToolbar, {\n      handleClickOpen: this.handleClickOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), this.state.open && React.createElement(CreateQuiz, {\n      open: this.state.open,\n      handleClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, !this.state.isLoading ? React.createElement(MaterialTable, {\n      columns: this.columns,\n      data: this.props.quizlistTabledata,\n      options: {\n        filtering: true,\n        actionsColumnIndex: -1,\n        headerStyle: {\n          \"font-size\": \"18px\"\n        }\n      },\n      actions: this.actions,\n      title: React.createElement(Typography, {\n        style: {\n          \"font-size\": \"18px\",\n          fontWeight: \"bolder\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Quiz List\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }) : React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    quizlistTabledata: state.quiz.quizlistTabledata\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    pushQuizListdata: data => dispatch({\n      type: \"PUSH QUIZLIST DATA\",\n      data: data\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(QuizList));","map":{"version":3,"sources":["/home/lambamansha/Desktop/faculty_portal/src/views/QuizList/index.jsx"],"names":["React","Component","Dashboard","DashboardLayout","QuizToolbar","CreateQuiz","Loader","fetchQuizlist","MaterialTable","connect","Quiz","swal","Typography","styles","withStyles","QuizList","constructor","props","loadData","token","then","data","quizlistTabledata","quizes","map","quiz","pushQuizListdata","setState","isLoading","catch","error","title","text","button","handleClickOpen","open","handleClose","handleEditQuiz","id","history","push","handleScheduleQuiz","handleEndDateChange","quizid","startdate","editEnddate","openEditForm","columns","field","cellStyle","render","rowData","skills","skill","tag","type","lookup","schedulingStatus","schedule","expiry","hidden","numberOfQuestions","actions","icon","tooltip","onClick","event","disabled","state","componentDidMount","classes","root","content","filtering","actionsColumnIndex","headerStyle","fontWeight","mapStateToProps","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Dashboard as DashboardLayout } from \"layouts\";\n\nimport QuizToolbar from \"./components/QuizToolbar\";\nimport CreateQuiz from \"./components/CreateQuiz\";\nimport Loader from \"./components/loader\";\nimport { fetchQuizlist } from \"api/quizzes\";\nimport MaterialTable from \"material-table\";\nimport { connect } from \"react-redux\";\nimport { Quiz } from \"serializers/quiz\";\n\nimport swal from \"sweetalert\";\nimport { Typography } from \"@material-ui/core\";\n\n// styles\nimport styles from \"./styles\";\nimport { withStyles } from \"@material-ui/styles\";\n\nclass QuizList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\tquizlistTabledata: [],\n\t\t\tisLoading: true,\n\t\t\teditEnddate: {\n\t\t\t\topenEditForm: false,\n\t\t\t\tquizid: null,\n\t\t\t\tstartdate: null\n\t\t\t}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadData();\n\t}\n\n\tloadData = () => {\n\t\tfetchQuizlist(this.props.token)\n\t\t\t.then(data => {\n\t\t\t\tlet quizlistTabledata = data.quizes.map(quiz => {\n\t\t\t\t\treturn new Quiz(quiz);\n\t\t\t\t});\n\n\t\t\t\t// push data to redux\n\t\t\t\tthis.props.pushQuizListdata(quizlistTabledata);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t// quizlistTabledata: quizlistTabledata,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tswal({\n\t\t\t\t\ttitle: \"Internal Server Error\",\n\t\t\t\t\ttext: \"Please Try Refreshing Page\",\n\n\t\t\t\t\tbutton: \"Ok\"\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\thandleClickOpen = () => {\n\t\tthis.setState({\n\t\t\topen: true\n\t\t});\n\t};\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false\n\t\t});\n\t};\n\n\thandleEditQuiz = id => {\n\t\tthis.props.history.push(\"/quiz/\" + id + \"/edit-quiz\");\n\t};\n\thandleScheduleQuiz = id => {\n\t\t// push row data to redux store\n\n\t\tthis.props.history.push(\"/quiz/\" + id + \"/schedule-quiz\");\n\t};\n\thandleEndDateChange = (quizid, startdate) => {\n\t\tthis.setState({\n\t\t\teditEnddate: { openEditForm: true, quizid: quizid, startdate: startdate }\n\t\t});\n\t};\n\n\tcolumns = [\n\t\t{\n\t\t\ttitle: \"Title\",\n\t\t\tfield: \"title\",\n\t\t\tcellStyle: {\n\t\t\t\t\"font-size\": \"15px\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttitle: \"Skills\",\n\t\t\tfield: \"skills\",\n\t\t\tcellStyle: {\n\t\t\t\t\"font-size\": \"15px\"\n\t\t\t},\n\t\t\trender: rowData =>\n\t\t\t\trowData.skills.map(skill => {\n\t\t\t\t\treturn <li>{skill.tag}</li>;\n\t\t\t\t})\n\t\t},\n\t\t{\n\t\t\ttitle: \"Number Of Questions\",\n\t\t\tfield: \"numberOfQuestions\",\n\t\t\tcellStyle: {\n\t\t\t\t\"font-size\": \"15px\"\n\t\t\t},\n\t\t\ttype: \"numeric\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Scheduling Status\",\n\t\t\tfield: \"schedulingStatus\",\n\t\t\tcellStyle: {\n\t\t\t\t\"font-size\": \"15px\"\n\t\t\t},\n\t\t\tlookup: {\n\t\t\t\t0: \"Not Scheduled\",\n\t\t\t\t1: \"Scheduled\",\n\t\t\t\t2: \"Disabled\",\n\t\t\t\t3: \"Expired\"\n\t\t\t}\n\t\t\t// render: rowData => {\n\t\t\t// \tif (rowData.schedulingStatus == 1) return <p>{rowData.schedule}</p>;\n\t\t\t// }\n\t\t},\n\t\t{\n\t\t\ttitle: \"Quiz Date\",\n\t\t\tfield: \"schedule\",\n\t\t\tcellStyle: {\n\t\t\t\t\"font-size\": \"15px\"\n\t\t\t},\n\t\t\trender: rowData => {\n\t\t\t\tif (rowData.schedulingStatus === 1)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{rowData.schedule} to {rowData.expiry}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t{\n\t\t\ttitle: \"Id\",\n\t\t\tfield: \"id\",\n\t\t\thidden: true\n\t\t}\n\t\t// {\n\t\t// \ttitle: \"expiry\",\n\t\t// \tfield: \"expiry\",\n\t\t// \thidden: true\n\t\t// }\n\t];\n\n\tdata = [\n\t\t{\n\t\t\ttitle: \"Python\",\n\t\t\tskills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n\t\t\tnumberOfQuestions: 1,\n\t\t\tschedulingStatus: true,\n\t\t\tid: \"1\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Python\",\n\t\t\tskills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n\t\t\tnumberOfQuestions: 5,\n\t\t\tschedulingStatus: false,\n\t\t\tid: \"2\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Python\",\n\t\t\tskills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n\t\t\tnumberOfQuestions: 1,\n\t\t\tschedulingStatus: true,\n\t\t\tid: \"3\"\n\t\t},\n\t\t{\n\t\t\ttitle: \"Python\",\n\t\t\tskills: [\"Data Structures\", \"Algos\", \"Conceptual\"],\n\t\t\tnumberOfQuestions: 1,\n\t\t\tschedulingStatus: false,\n\t\t\tid: \"4\"\n\t\t}\n\t];\n\n\tactions = [\n\t\t{\n\t\t\ticon: \"edit\",\n\t\t\ttooltip: \"Edit Content\",\n\t\t\tonClick: (event, rowData) => {\n\t\t\t\treturn this.handleEditQuiz(rowData.id);\n\t\t\t}\n\t\t},\n\t\trowData => ({\n\t\t\ticon: \"schedule\",\n\t\t\ttooltip: \"Schedule Quiz\",\n\t\t\tonClick: (event, rowData) => {\n\t\t\t\treturn this.handleScheduleQuiz(rowData.id);\n\t\t\t},\n\t\t\tdisabled: rowData.numberOfQuestions < 5\n\t\t}),\n\t\trowData => ({\n\t\t\ticon: \"schedule\",\n\t\t\ttooltip: \"Change The End date\",\n\t\t\tonClick: (event, rowData) => {\n\t\t\t\treturn this.handleEndDateChange(rowData.id, rowData.schedule);\n\t\t\t},\n\t\t\thidden: rowData.schedulingStatus !== 1\n\t\t})\n\t];\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<DashboardLayout title=\"Quizzes\">\n\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t<QuizToolbar handleClickOpen={this.handleClickOpen} />\n\t\t\t\t\t{this.state.open && (\n\t\t\t\t\t\t<CreateQuiz open={this.state.open} handleClose={this.handleClose} />\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t{!this.state.isLoading ? (\n\t\t\t\t\t\t\t<MaterialTable\n\t\t\t\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\t\t\t\tdata={this.props.quizlistTabledata}\n\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\tfiltering: true,\n\t\t\t\t\t\t\t\t\tactionsColumnIndex: -1,\n\t\t\t\t\t\t\t\t\theaderStyle: {\n\t\t\t\t\t\t\t\t\t\t\"font-size\": \"18px\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tactions={this.actions}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tstyle={{ \"font-size\": \"18px\", fontWeight: \"bolder\" }}>\n\t\t\t\t\t\t\t\t\t\tQuiz List\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</DashboardLayout>\n\t\t);\n\t}\n}\nconst mapStateToProps = state => {\n\treturn {\n\t\ttoken: state.auth.token,\n\t\tquizlistTabledata: state.quiz.quizlistTabledata\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tpushQuizListdata: data =>\n\t\t\tdispatch({ type: \"PUSH QUIZLIST DATA\", data: data })\n\t};\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(QuizList));\n"]},"metadata":{},"sourceType":"module"}