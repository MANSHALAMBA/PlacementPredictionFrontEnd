{"ast":null,"code":"import _objectSpread from \"/home/lambamansha/Desktop/faculty_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/lambamansha/Desktop/faculty_portal/src/views/SignIn/index.jsx\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\"; // Externals\n\nimport PropTypes from \"prop-types\";\nimport compose from \"recompose/compose\";\nimport validate from \"validate.js\";\nimport _ from \"underscore\"; // Material helpers\n\nimport { withStyles } from \"@material-ui/styles\"; // Material components\n\nimport { Grid, Button, IconButton, CircularProgress, TextField, Typography } from \"@material-ui/core\"; // Material icons\n\nimport { ArrowBack as ArrowBackIcon } from \"@material-ui/icons\"; // Component styles\n\nimport styles from \"./styles\"; // Form validation schema\n\nimport schema from \"./schema\"; // logo\n\nimport lgLogo from \"assets/images/logo.png\"; // Redux\n\nimport { onLogIn } from \"store/actions/auth\";\nimport { connect } from \"react-redux\"; // api call\n\nimport axios from \"axios\";\nimport { API_URL } from \"config\";\n\nclass SignIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      values: {\n        username: \"\",\n        password: \"\"\n      },\n      touched: {\n        username: false,\n        password: false\n      },\n      errors: {\n        username: null,\n        password: null\n      },\n      isValid: false,\n      isLoading: false,\n      submitError: null\n    };\n\n    this.handleBack = () => {\n      const history = this.props.history;\n      history.goBack();\n    };\n\n    this.validateForm = _.debounce(() => {\n      const values = this.state.values;\n\n      const newState = _objectSpread({}, this.state);\n\n      const errors = validate(values, schema);\n      newState.errors = errors || {};\n      newState.isValid = errors ? false : true;\n      this.setState(newState);\n    }, 300);\n\n    this.handleFieldChange = (field, value) => {\n      const newState = _objectSpread({}, this.state);\n\n      newState.submitError = null;\n      newState.touched[field] = true;\n      newState.values[field] = value;\n      this.setState(newState, this.validateForm);\n    };\n\n    this.handleSignIn = () => {\n      try {\n        // const { history } = this.props;\n        const values = this.state.values;\n        this.setState({\n          isLoading: true\n        });\n        axios.post(\"\".concat(API_URL, \"/auth/faculty/login\"), values).then(({\n          data\n        }) => {\n          this.props.onLoginReduxHandler(data.user, data.token);\n        }).catch(error => {\n          this.setState({\n            isLoading: false,\n            submitError: error.response.data.message\n          });\n        });\n      } catch (error) {\n        this.setState({\n          isLoading: false,\n          submitError: error.message\n        });\n      }\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const _this$state = this.state,\n          values = _this$state.values,\n          touched = _this$state.touched,\n          errors = _this$state.errors,\n          isValid = _this$state.isValid,\n          submitError = _this$state.submitError,\n          isLoading = _this$state.isLoading;\n    const showEmailError = touched.username && errors.username;\n    const showPasswordError = touched.password && errors.password;\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      className: classes.grid,\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      className: classes.quoteWrapper,\n      item: true,\n      lg: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.quote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.quoteInner,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: classes.quoteText,\n      variant: \"h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Hella narwhal Cosby sweater McSweeney's, salvia kitsch before they sold out High Life.\"), React.createElement(\"div\", {\n      className: classes.person,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: classes.name,\n      variant: \"body1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Takamaru Ayako\"), React.createElement(Typography, {\n      className: classes.bio,\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Manager at inVision\"))))), React.createElement(Grid, {\n      className: classes.content,\n      item: true,\n      lg: 7,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.contentHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: classes.backButton,\n      onClick: this.handleBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(ArrowBackIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: classes.contentBody,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.logoWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: classes.logoImage,\n      src: lgLogo,\n      alt: \"Learnogether Logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      className: classes.title,\n      variant: \"h2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"div\", {\n      className: classes.fields,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      className: classes.textField,\n      label: \"Email address\",\n      name: \"username\",\n      onChange: event => this.handleFieldChange(\"username\", event.target.value),\n      type: \"text\",\n      value: values.username,\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), showEmailError && React.createElement(Typography, {\n      className: classes.fieldError,\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, errors.username[0]), React.createElement(TextField, {\n      className: classes.textField,\n      label: \"Password\",\n      name: \"password\",\n      onChange: event => this.handleFieldChange(\"password\", event.target.value),\n      type: \"password\",\n      value: values.password,\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), showPasswordError && React.createElement(Typography, {\n      className: classes.fieldError,\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, errors.password[0])), submitError && React.createElement(Typography, {\n      className: classes.submitError,\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, submitError), isLoading ? React.createElement(CircularProgress, {\n      className: classes.progress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }) : React.createElement(Button, {\n      className: classes.signInButton,\n      color: \"primary\",\n      disabled: !isValid,\n      onClick: this.handleSignIn,\n      size: \"large\",\n      variant: \"contained\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Sign in now\")))))));\n  }\n\n}\n\nSignIn.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\nconst mapDispatchToProps = {\n  onLoginReduxHandler: onLogIn\n};\nexport default compose(connect(null, mapDispatchToProps), withRouter, withStyles(styles))(SignIn);","map":{"version":3,"sources":["/home/lambamansha/Desktop/faculty_portal/src/views/SignIn/index.jsx"],"names":["React","Component","withRouter","PropTypes","compose","validate","_","withStyles","Grid","Button","IconButton","CircularProgress","TextField","Typography","ArrowBack","ArrowBackIcon","styles","schema","lgLogo","onLogIn","connect","axios","API_URL","SignIn","state","values","username","password","touched","errors","isValid","isLoading","submitError","handleBack","history","props","goBack","validateForm","debounce","newState","setState","handleFieldChange","field","value","handleSignIn","post","then","data","onLoginReduxHandler","user","token","catch","error","response","message","render","classes","showEmailError","showPasswordError","root","grid","quoteWrapper","quote","quoteInner","quoteText","person","name","bio","content","contentHeader","backButton","contentBody","form","logoWrapper","logoImage","title","fields","textField","event","target","fieldError","progress","signInButton","propTypes","className","string","object","isRequired","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\n// Externals\nimport PropTypes from \"prop-types\";\nimport compose from \"recompose/compose\";\nimport validate from \"validate.js\";\nimport _ from \"underscore\";\n\n// Material helpers\nimport { withStyles } from \"@material-ui/styles\";\n\n// Material components\nimport {\n\tGrid,\n\tButton,\n\tIconButton,\n\tCircularProgress,\n\tTextField,\n\tTypography\n} from \"@material-ui/core\";\n\n// Material icons\nimport { ArrowBack as ArrowBackIcon } from \"@material-ui/icons\";\n\n// Component styles\nimport styles from \"./styles\";\n\n// Form validation schema\nimport schema from \"./schema\";\n\n// logo\nimport lgLogo from \"assets/images/logo.png\";\n\n// Redux\nimport { onLogIn } from \"store/actions/auth\";\nimport { connect } from \"react-redux\";\n\n// api call\nimport axios from \"axios\";\nimport { API_URL } from \"config\";\n\nclass SignIn extends Component {\n\tstate = {\n\t\tvalues: {\n\t\t\tusername: \"\",\n\t\t\tpassword: \"\"\n\t\t},\n\t\ttouched: {\n\t\t\tusername: false,\n\t\t\tpassword: false\n\t\t},\n\t\terrors: {\n\t\t\tusername: null,\n\t\t\tpassword: null\n\t\t},\n\t\tisValid: false,\n\t\tisLoading: false,\n\t\tsubmitError: null\n\t};\n\n\thandleBack = () => {\n\t\tconst { history } = this.props;\n\n\t\thistory.goBack();\n\t};\n\n\tvalidateForm = _.debounce(() => {\n\t\tconst { values } = this.state;\n\n\t\tconst newState = { ...this.state };\n\t\tconst errors = validate(values, schema);\n\n\t\tnewState.errors = errors || {};\n\t\tnewState.isValid = errors ? false : true;\n\n\t\tthis.setState(newState);\n\t}, 300);\n\n\thandleFieldChange = (field, value) => {\n\t\tconst newState = { ...this.state };\n\n\t\tnewState.submitError = null;\n\t\tnewState.touched[field] = true;\n\t\tnewState.values[field] = value;\n\n\t\tthis.setState(newState, this.validateForm);\n\t};\n\n\thandleSignIn = () => {\n\t\ttry {\n\t\t\t// const { history } = this.props;\n\t\t\tconst { values } = this.state;\n\n\t\t\tthis.setState({ isLoading: true });\n\n\t\t\taxios\n\t\t\t\t.post(`${API_URL}/auth/faculty/login`, values)\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tthis.props.onLoginReduxHandler(data.user, data.token);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoading: false,\n\t\t\t\t\t\tsubmitError: error.response.data.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t} catch (error) {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t\tsubmitError: error.message\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\tconst {\n\t\t\tvalues,\n\t\t\ttouched,\n\t\t\terrors,\n\t\t\tisValid,\n\t\t\tsubmitError,\n\t\t\tisLoading\n\t\t} = this.state;\n\n\t\tconst showEmailError = touched.username && errors.username;\n\t\tconst showPasswordError = touched.password && errors.password;\n\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid className={classes.grid} container>\n\t\t\t\t\t<Grid className={classes.quoteWrapper} item lg={5}>\n\t\t\t\t\t\t<div className={classes.quote}>\n\t\t\t\t\t\t\t<div className={classes.quoteInner}>\n\t\t\t\t\t\t\t\t<Typography className={classes.quoteText} variant=\"h1\">\n\t\t\t\t\t\t\t\t\tHella narwhal Cosby sweater McSweeney's, salvia kitsch before\n\t\t\t\t\t\t\t\t\tthey sold out High Life.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div className={classes.person}>\n\t\t\t\t\t\t\t\t\t<Typography className={classes.name} variant=\"body1\">\n\t\t\t\t\t\t\t\t\t\tTakamaru Ayako\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography className={classes.bio} variant=\"body2\">\n\t\t\t\t\t\t\t\t\t\tManager at inVision\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid className={classes.content} item lg={7} xs={12}>\n\t\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t\t<div className={classes.contentHeader}>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName={classes.backButton}\n\t\t\t\t\t\t\t\t\tonClick={this.handleBack}>\n\t\t\t\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className={classes.contentBody}>\n\t\t\t\t\t\t\t\t<form className={classes.form}>\n\t\t\t\t\t\t\t\t\t<div className={classes.logoWrapper}>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.logoImage}\n\t\t\t\t\t\t\t\t\t\t\tsrc={lgLogo}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Learnogether Logo\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Typography className={classes.title} variant=\"h2\">\n\t\t\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<div className={classes.fields}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={event =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.handleFieldChange(\"username\", event.target.value)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.username}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{showEmailError && (\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fieldError}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{errors.username[0]}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={event =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.handleFieldChange(\"password\", event.target.value)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{showPasswordError && (\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fieldError}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{errors.password[0]}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{submitError && (\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.submitError} variant=\"body2\">\n\t\t\t\t\t\t\t\t\t\t\t{submitError}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress className={classes.progress} />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.signInButton}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!isValid}\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleSignIn}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\">\n\t\t\t\t\t\t\t\t\t\t\tSign in now\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSignIn.propTypes = {\n\tclassName: PropTypes.string,\n\tclasses: PropTypes.object.isRequired,\n\thistory: PropTypes.object.isRequired\n};\n\nconst mapDispatchToProps = {\n\tonLoginReduxHandler: onLogIn\n};\n\nexport default compose(\n\tconnect(\n\t\tnull,\n\t\tmapDispatchToProps\n\t),\n\twithRouter,\n\twithStyles(styles)\n)(SignIn);\n"]},"metadata":{},"sourceType":"module"}